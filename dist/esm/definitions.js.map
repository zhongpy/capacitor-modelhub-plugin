{"version":3,"file":"definitions.js","sourceRoot":"","sources":["../../src/definitions.ts"],"names":[],"mappings":"","sourcesContent":["\nexport type ModelItem = {\n  key: string;                 // 必须与 assets/models/<key>.zip 对齐\n  unpackTo: string;            // e.g. \"stt/en_kroko\"\n  checkFiles: string[];        // e.g. [\"encoder.onnx\",\"tokens.txt\"]\n  password?: string;           // AES zip password\n  sha256?: string;             // 可选：zip 的 sha256（推荐）\n  remoteUrl?: string;          // releaseLite 走下载\n};\n\nexport type CheckResult = {\n  key: string;\n  status: \"installed\" | \"missing\" | \"corrupt\";\n  installedPath: string;       // <modelsRoot>/<unpackTo>\n  hasBundledZip: boolean;      // assets/models/<key>.zip 是否存在\n};\n\nexport type EnsurePolicy = \"bundleOnly\" | \"downloadOnly\" | \"bundleThenDownload\";\n\nexport type EnsureResult = {\n  key: string;\n  installedPath: string;\n};\n\nexport type ProgressEvent = {\n  key: string;\n  phase: \"checking\" | \"copying\" | \"downloading\" | \"verifying\" | \"unpacking\" | \"finalizing\";\n  downloaded?: number;\n  total?: number;\n  progress?: number; // 0..1\n  message?: string;\n};\n\nexport interface CapacitorModelhubPluginPlugin {\n  echo(options: { value: string }): Promise<{ value: string }>;\n  getRoot(): Promise<{ path: string }>;\n  getPath(options: { unpackTo: string }): Promise<{ path: string }>;\n  check(options: { items: ModelItem[] }): Promise<{ results: CheckResult[] }>;\n  ensureInstalled(options: { item: ModelItem; policy: EnsurePolicy }): Promise<EnsureResult>;\n\n  addListener(\n    eventName: \"ModelsHubProgress\",\n    listenerFunc: (event: ProgressEvent) => void\n  ): Promise<{ remove: () => Promise<void> }>;\n}\n"]}