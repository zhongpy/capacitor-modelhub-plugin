{"version":3,"file":"definitions.js","sourceRoot":"","sources":["../../src/definitions.ts"],"names":[],"mappings":"","sourcesContent":["export type ModelItem = {\n  key: string;                 // zip 名称（不含 .zip），对应 assets/models/<key>.zip\n  unpackTo: string;            // 解压目标相对路径（相对于 models root）\n  checkFiles: string[];        // 解压后必须存在的文件（相对于 unpackTo）\n  password?: string;           // AES zip password\n  sha256?: string;             // zip sha256（推荐）\n  remoteUrl?: string;          // 无 bundled 时下载地址\n  version?: string;            // installedVersion（用于 state.json）\n};\n\nexport type EnsurePolicy = \"bundleOnly\" | \"downloadOnly\" | \"bundleThenDownload\";\n\nexport type CheckResult = {\n  key: string;\n  status: \"installed\" | \"missing\" | \"corrupt\";\n  installedPath: string;       // <modelsRoot>/<unpackTo>\n  hasBundledZip: boolean;      // assets/models/<key>.zip 是否存在\n  state?: any;                 // state.json 中该 key 的记录（如果有）\n};\n\nexport type EnsureResult = {\n  key: string;\n  installedPath: string;\n  installedVersion?: string;\n};\n\nexport type ProgressEvent = {\n  key: string;\n  phase: \"checking\" | \"copying\" | \"downloading\" | \"verifying\" | \"unpacking\" | \"finalizing\" | \"done\" | \"error\";\n  downloaded?: number;\n  total?: number;\n  progress?: number; // 0..1\n  message?: string;\n};\n\nexport interface CapacitorModelhubPluginPlugin {\n  echo(options: { value: string }): Promise<{ value: string }>;\n  getRoot(): Promise<{ path: string }>;\n  getPath(options: { unpackTo: string }): Promise<{ path: string }>;\n\n  check(options: { items: ModelItem[] }): Promise<{ results: CheckResult[] }>;\n\n  ensureInstalled(options: { item: ModelItem; policy: EnsurePolicy }): Promise<EnsureResult>;\n\n  ensureInstalledMany(options: { items: ModelItem[]; policy: EnsurePolicy }): Promise<{ results: EnsureResult[] }>;\n\n  addListener(\n    eventName: \"ModelsHubProgress\",\n    listenerFunc: (event: ProgressEvent) => void\n  ): Promise<{ remove: () => Promise<void> }>;\n}\n"]}